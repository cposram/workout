<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yaoå±…å®¶å¥èº«ç´€éŒ„</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #121212; color: #e0e0e0; padding: 20px; line-height: 1.6; display: flex; flex-direction: column; align-items: center; }
        .container { width: 100%; max-width: 800px; }
        .card { background: #1e1e1e; padding: 25px; border-radius: 16px; box-shadow: 0 8px 16px rgba(0,0,0,0.5); margin-bottom: 25px; border: 1px solid #333; }
        h1 { color: #00f2ea; text-align: center; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 20px; }
        h2 { color: #00f2ea; border-bottom: 2px solid #333; padding-bottom: 10px; margin-top: 0; }
        
        /* æ–°å¢åœ–ç‰‡æ¨£å¼ */
        .summary-image {
            width: 100%;
            max-width: 800px;
            height: auto;
            border-radius: 16px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.5);
            margin-bottom: 25px;
            border: 2px solid #333;
            display: block;
        }

        .todo-item { display: flex; align-items: center; margin-bottom: 18px; font-size: 1.1rem; background: #2a2a2a; padding: 10px; border-radius: 8px; transition: background 0.3s; }
        .todo-item:hover { background: #333; }
        input[type="checkbox"] { width: 22px; height: 22px; margin-right: 15px; cursor: pointer; accent-color: #00f2ea; }
        
        .btn-group { display: flex; gap: 10px; margin-top: 20px; }
        button { flex: 1; background: #00f2ea; color: #000; border: none; padding: 12px; border-radius: 8px; font-weight: bold; font-size: 1rem; cursor: pointer; transition: opacity 0.3s, transform 0.1s; }
        button:hover { opacity: 0.9; }
        button:active { transform: scale(0.98); }
        button:disabled { background: #444; color: #888; cursor: not-allowed; }
        button.calendar-btn { background: #fbbc04; color: #000; }
        
        input[type="text"], input[type="number"] { background: #333; border: 2px solid #444; color: white; padding: 12px; border-radius: 8px; width: 100%; box-sizing: border-box; margin-bottom: 15px; font-size: 1rem; transition: border-color 0.3s; }
        input[type="text"]:focus, input[type="number"]:focus { border-color: #00f2ea; outline: none; }

        table { width: 100%; border-collapse: separate; border-spacing: 0; margin-top: 20px; border: 1px solid #333; border-radius: 12px; overflow: hidden; }
        th, td { padding: 15px; text-align: left; border-bottom: 1px solid #333; }
        th { background: #252525; color: #00f2ea; text-transform: uppercase; font-size: 0.9rem; }
        tr:last-child td { border-bottom: none; }
        tr:hover td { background: #2a2a2a; }
        .status-done { color: #00ff00; font-weight: bold; display: flex; align-items: center; }
        .status-done::before { content: 'âœ“ '; margin-right: 5px; }
    </style>
</head>
<body>

    <div class="container">
        <h1>ğŸ‹ï¸ Yaoj ç³»çµ±åŒ–è¨“ç·´ç´€éŒ„</h1>

        <img src="workout-summary.png" alt="Yaoj å±…å®¶å¥èº«ç³»çµ±åŒ–å¿…ä¿®èª²åœ–è¡¨" class="summary-image">

        <div class="card">
            <h2>ğŸ“… ä»Šæ—¥å¿…ä¿®èª²è¡¨ (æ²’åšå®Œä¸èƒ½å­˜æª”)</h2>
            <div id="checklist">
                <div class="todo-item"><input type="checkbox" class="task"> å½ˆåŠ›ç¹©æ·±è¹² (15ä¸‹ x 4çµ„)</div>
                <div class="todo-item"><input type="checkbox" class="task"> æ¨™æº–/è·ªå§¿ä¼åœ°æŒºèº« (12ä¸‹ x 4çµ„)</div>
                <div class="todo-item"><input type="checkbox" class="task"> å½ˆåŠ›ç¹©åå§¿åˆ’èˆ¹ (15ä¸‹ x 4çµ„)</div>
                <div class="todo-item"><input type="checkbox" class="task"> 1kg å•éˆ´å´å¹³èˆ‰ (20ä¸‹ x 3çµ„)</div>
                <div class="todo-item"><input type="checkbox" class="task"> å½ˆåŠ›ç¹©è² é‡æ²è…¹ (20ä¸‹ x 3çµ„)</div>
            </div>
            <input type="number" id="weight" placeholder="è¼¸å…¥ä»Šæ—¥é«”é‡ (kg)" step="0.1">
            <div class="btn-group">
                <button id="finishBtn" disabled onclick="saveRecord()">âœ… å®Œèª²å­˜æª”</button>
                <button class="calendar-btn" onclick="addToCalendar()">ğŸ“… åŠ å…¥ Google æ—¥æ›†</button>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ” æ­·å²ç´€éŒ„æª¢ç´¢</h2>
            <input type="text" id="search" placeholder="æœå°‹æ—¥æœŸæˆ–é«”é‡..." onkeyup="renderLogs()">
            <table id="logTable">
                <thead>
                    <tr><th>æ—¥æœŸ</th><th>é«”é‡</th><th>ç‹€æ…‹</th></tr>
                </thead>
                <tbody id="logBody"></tbody>
            </table>
        </div>
    </div>

    <script>
        const tasks = document.querySelectorAll('.task');
        const finishBtn = document.getElementById('finishBtn');
        const weightInput = document.getElementById('weight');

        // ç›£è½å‹¾é¸ç‹€æ…‹
        tasks.forEach(t => t.addEventListener('change', () => {
            const allChecked = Array.from(tasks).every(checkbox => checkbox.checked);
            finishBtn.disabled = !allChecked;
        }));

        // å­˜æª”åŠŸèƒ½
        function saveRecord() {
            const date = new Date().toLocaleDateString();
            const weight = weightInput.value;
            
            if (!weight) {
                alert("è«‹è¼¸å…¥ä»Šæ—¥é«”é‡ï¼");
                weightInput.focus();
                return;
            }

            const newLog = { date, weight, status: "å·²ä¸‹èª²" };
            
            let logs = JSON.parse(localStorage.getItem('workoutLogs')) || [];
            logs.unshift(newLog);
            localStorage.setItem('workoutLogs', JSON.stringify(logs));
            
            alert("è¾›è‹¦äº†ï¼æ•¸æ“šå·²å­˜å…¥ç¶²é ã€‚");
            // æ¸…ç©ºé¸é …èˆ‡è¼¸å…¥æ¡†
            tasks.forEach(t => t.checked = false);
            finishBtn.disabled = true;
            weightInput.value = '';
            renderLogs();
            window.scrollTo(0, document.body.scrollHeight); // æ²å‹•åˆ°æ­·å²ç´€éŒ„
        }

        // æ¸²æŸ“æ­·å²ç´€éŒ„
        function renderLogs() {
            const searchTerm = document.getElementById('search').value.toLowerCase();
            const logs = JSON.parse(localStorage.getItem('workoutLogs')) || [];
            const logBody = document.getElementById('logBody');
            
            if (logs.length === 0) {
                logBody.innerHTML = '<tr><td colspan="3" style="text-align:center; color:#888;">ç›®å‰æ²’æœ‰ç´€éŒ„ï¼Œå¿«å»è¨“ç·´å§ï¼</td></tr>';
                return;
            }

            logBody.innerHTML = logs
                .filter(log => log.date.includes(searchTerm) || log.weight.includes(searchTerm))
                .map(log => `<tr><td>${log.date}</td><td>${log.weight} kg</td><td class="status-done">${log.status}</td></tr>`)
                .join('');
        }

        // Google æ—¥æ›†é€£çµ
        function addToCalendar() {
            const title = encodeURIComponent("ğŸ‹ï¸ Yaoj å±…å®¶å¥èº«å¿…ä¿®èª² (å‹™å¿…ä¸‹èª²)");
            const details = encodeURIComponent("ä»Šæ—¥èª²è¡¨ï¼š\n1. å½ˆåŠ›ç¹©æ·±è¹² (15x4)\n2. ä¼åœ°æŒºèº« (12x4)\n3. å½ˆåŠ›ç¹©åˆ’èˆ¹ (15x4)\n4. å•éˆ´å´å¹³èˆ‰ (20x3)\n5. å½ˆåŠ›ç¹©æ²è…¹ (20x3)\n\nå£è™Ÿï¼šå»ºè¨­ â€¢ ç ´å£ â€¢ é‡è¤‡å †ç–Š = è®Šå¼·ï¼");
            const url = `https://www.google.com/calendar/render?action=TEMPLATE&text=${title}&details=${details}`;
            window.open(url, '_blank');
        }

        window.onload = renderLogs;
    </script>
</body>
</html>
