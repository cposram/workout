<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yaoj å±…å®¶å¥èº«ç³»çµ±åŒ–ç´€éŒ„</title>
    <style>
        body { font-family: sans-serif; background-color: #121212; color: #e0e0e0; padding: 20px; line-height: 1.6; }
        .card { background: #1e1e1e; padding: 20px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.3); margin-bottom: 20px; border: 1px solid #333; }
        h1, h2 { color: #00f2ea; }
        .todo-item { display: flex; align-items: center; margin-bottom: 15px; font-size: 1.1rem; }
        input[type="checkbox"] { width: 20px; height: 20px; margin-right: 15px; cursor: pointer; }
        button { background: #00f2ea; color: #000; border: none; padding: 10px 20px; border-radius: 8px; font-weight: bold; cursor: pointer; margin-right: 10px; }
        button:disabled { background: #444; color: #888; cursor: not-allowed; }
        input[type="text"] { background: #333; border: 1px solid #555; color: white; padding: 8px; border-radius: 4px; width: 100%; box-sizing: border-box; margin-bottom: 10px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #333; padding: 12px; text-align: left; }
        th { background: #252525; color: #00f2ea; }
        .status-done { color: #00ff00; font-weight: bold; }
    </style>
</head>
<body>

    <h1>ğŸ‹ï¸ Yaoj ç³»çµ±åŒ–è¨“ç·´ç´€éŒ„</h1>

    <div class="card">
        <h2>ğŸ“… ä»Šæ—¥èª²è¡¨ (12/31 ç‰ˆ)</h2>
        <div id="checklist">
            <div class="todo-item"><input type="checkbox" class="task"> å½ˆåŠ›ç¹©æ·±è¹² (15ä¸‹ x 4çµ„)</div>
            <div class="todo-item"><input type="checkbox" class="task"> è†è“‹ä¼åœ°æŒºèº« (12ä¸‹ x 4çµ„)</div>
            <div class="todo-item"><input type="checkbox" class="task"> å½ˆåŠ›ç¹©åå§¿åˆ’èˆ¹ (15ä¸‹ x 4çµ„)</div>
            <div class="todo-item"><input type="checkbox" class="task"> 1kg å•éˆ´å´å¹³èˆ‰ (20ä¸‹ x 3çµ„)</div>
            <div class="todo-item"><input type="checkbox" class="task"> å½ˆåŠ›ç¹©è² é‡æ²è…¹ (20ä¸‹ x 3çµ„)</div>
        </div>
        <input type="text" id="weight" placeholder="è¼¸å…¥ä»Šæ—¥é«”é‡ (kg)">
        <button id="finishBtn" disabled onclick="saveRecord()">âœ… å®Œèª²å­˜æª”</button>
        <button onclick="addToCalendar()">ğŸ“… åŠ å…¥ Google æ—¥æ›†</button>
    </div>

    <div class="card">
        <h2>ğŸ” æ­·å²ç´€éŒ„æª¢ç´¢</h2>
        <input type="text" id="search" placeholder="æœå°‹æ—¥æœŸæˆ–é—œéµå­—..." onkeyup="renderLogs()">
        <table id="logTable">
            <thead>
                <tr><th>æ—¥æœŸ</th><th>é«”é‡</th><th>ç‹€æ…‹</th></tr>
            </thead>
            <tbody id="logBody"></tbody>
        </table>
    </div>

    <script>
        const tasks = document.querySelectorAll('.task');
        const finishBtn = document.getElementById('finishBtn');
        const weightInput = document.getElementById('weight');

        // ç›£è½å‹¾é¸ç‹€æ…‹
        tasks.forEach(t => t.addEventListener('change', () => {
            const allChecked = Array.from(tasks).every(checkbox => checkbox.checked);
            finishBtn.disabled = !allChecked;
        }));

        // å­˜æª”åŠŸèƒ½
        function saveRecord() {
            const date = new Date().toLocaleDateString();
            const weight = weightInput.value || "æœªè¨˜éŒ„";
            const newLog = { date, weight, status: "å·²ä¸‹èª²" };
            
            let logs = JSON.parse(localStorage.getItem('workoutLogs')) || [];
            logs.unshift(newLog);
            localStorage.setItem('workoutLogs', JSON.stringify(logs));
            
            alert("è¾›è‹¦äº†ï¼æ•¸æ“šå·²å­˜å…¥ç¶²é ã€‚");
            location.reload();
        }

        // æ¸²æŸ“æ­·å²ç´€éŒ„
        function renderLogs() {
            const searchTerm = document.getElementById('search').value.toLowerCase();
            const logs = JSON.parse(localStorage.getItem('workoutLogs')) || [];
            const logBody = document.getElementById('logBody');
            
            logBody.innerHTML = logs
                .filter(log => log.date.includes(searchTerm) || log.weight.includes(searchTerm))
                .map(log => `<tr><td>${log.date}</td><td>${log.weight} kg</td><td class="status-done">${log.status}</td></tr>`)
                .join('');
        }

        // Google æ—¥æ›†é€£çµ
        function addToCalendar() {
            const title = encodeURIComponent("Yaoj å±…å®¶è¨“ç·´æ™‚é–“");
            const details = encodeURIComponent("ä»Šæ—¥èª²è¡¨ï¼šæ·±è¹²ã€ä¼åœ°æŒºèº«ã€åˆ’èˆ¹ã€å´å¹³èˆ‰ã€æ²è…¹ã€‚å‹™å¿…é”æˆæ‰èƒ½ä¸‹èª²ï¼");
            const url = `https://www.google.com/calendar/render?action=TEMPLATE&text=${title}&details=${details}`;
            window.open(url, '_blank');
        }

        window.onload = renderLogs;
    </script>
</body>
</html>
